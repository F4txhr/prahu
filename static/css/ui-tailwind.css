/* Custom CSS Variables for Dark Theme */
:root {
  --primary: #6366f1; /* Indigo 500 */
  --primary-light: #818cf8; /* Indigo 400 */
  --primary-dark: #4f46e5; /* Indigo 600 */
  --secondary: #14b8a6; /* Teal 500 */
  --dark-1: #0f172a; /* Slate 900 */
  --dark-2: #1e293b; /* Slate 800 */
  --dark-3: #334155; /* Slate 700 */
  --light-1: #f8fafc; /* Slate 50 */
  --light-2: #e2e8f0; /* Slate 200 */
  --success: #22c55e; /* Green 500 */
  --danger: #ef4444; /* Red 500 */
  --warning: #f59e0b; /* Amber 500 */
}

body {
  background-color: var(--dark-1);
  color: var(--light-2);
  font-family: 'Inter', sans-serif;
  line-height: 1.6;
  overflow: hidden; /* Prevent body scroll, content-area will scroll */
}

.gradient-bg {
  background: linear-gradient(135deg, var(--dark-1) 0%, var(--dark-2) 100%);
}

/* Card Styling */
.card {
  background-color: var(--dark-2);
  border: 1px solid var(--dark-3);
  border-radius: 0.75rem; /* rounded-xl */
  padding: 1.5rem; /* p-6 */
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* shadow-md */
  transition: all 0.3s ease;
}
.card:hover {
  border-color: var(--primary-light); /* Subtle hover effect */
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
}
.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}
.card-header h3 {
  font-size: 1.25rem; /* text-xl */
  font-weight: 600; /* font-semibold */
  color: var(--light-1);
}
.card-content { color: var(--light-2); }

/* Button Styling */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.75rem 1.5rem; /* py-3 px-6 */
  border-radius: 0.5rem; /* rounded-lg */
  font-weight: 500; /* font-medium */
  cursor: pointer;
  transition: all 0.2s ease-in-out;
  white-space: nowrap;
  border: 1px solid transparent; /* For consistent sizing */
}
.btn-primary { background-color: var(--primary); color: var(--light-1); }
.btn-primary:hover { background-color: var(--primary-dark); transform: translateY(-1px); }
.btn-success { background-color: var(--success); color: var(--light-1); }
.btn-success:hover { background-color: #16a34a; transform: translateY(-1px); }
.btn-secondary { background-color: var(--dark-3); color: var(--light-2); border-color: var(--dark-3); }
.btn-secondary:hover { background-color: var(--dark-3); border-color: var(--primary-light); color: var(--light-1); }
.btn-large { padding: 1rem 2rem; font-size: 1.125rem; }

/* Form Elements */
.form-group { margin-bottom: 1rem; }
.form-group label {
  display: block; font-size: 0.875rem; font-weight: 500; margin-bottom: 0.5rem; color: var(--light-2);
}
.input-field, textarea, select {
  width: 100%; padding: 0.75rem 1rem; border-radius: 0.5rem; background-color: var(--dark-3);
  border: 1px solid var(--dark-3); color: var(--light-1); font-size: 1rem; transition: border-color 0.2s ease, box-shadow 0.2s ease;
}
.input-field:focus, textarea:focus, select:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 2px rgba(99,102,241,0.5); }
textarea::placeholder { color: var(--light-2); opacity: 0.6; }

/* Badges */
.badge { display:inline-flex; align-items:center; padding:0.25rem 0.75rem; border-radius:9999px; font-size:0.75rem; font-weight:600; text-transform:uppercase; }
.badge.success { background-color: rgba(34,197,94,0.2); color: var(--success); }
.badge.auto-detection { background-color: rgba(99,102,241,0.2); color: var(--primary); }

/* Radio Group */
.radio-group { display:flex; flex-direction:column; gap:0.75rem; }
.radio-option { display:flex; align-items:flex-start; cursor:pointer; padding:0.75rem; border-radius:0.5rem; border:1px solid var(--dark-3); background-color: var(--dark-3); transition: all 0.2s ease; }
.radio-option:hover { background-color: rgba(51,65,85,0.7); border-color: var(--primary-light); }
.radio-option input[type="radio"] { display:none; }
.radio-custom { width:1.25rem; height:1.25rem; border-radius:50%; border:2px solid var(--light-2); margin-right:0.75rem; flex-shrink:0; position:relative; top:0.125rem; }
.radio-option input[type="radio"]:checked + .radio-custom { border-color: var(--primary); background-color: var(--primary); }
.radio-option input[type="radio"]:checked + .radio-custom::after { content:''; position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); width:0.5rem; height:0.5rem; border-radius:50%; background-color: var(--light-1); }
.radio-label { flex-grow:1; }
.radio-label strong { display:block; font-size:1rem; color:var(--light-1); margin-bottom:0.25rem; }
.radio-label small { display:block; font-size:0.875rem; color:var(--light-2); opacity:0.8; }

/* Smart Detection Info */
.smart-detection-info { margin-top:1rem; padding:1rem; background-color: rgba(99,102,241,0.1); border-radius:0.5rem; border:1px solid rgba(99,102,241,0.3); }
.detection-indicator { display:flex; align-items:center; margin-bottom:0.5rem; color:var(--primary); font-weight:500; }
.detection-icon { font-size:1.25rem; margin-right:0.5rem; }

/* Stats Grid */
.stats-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap:1rem; text-align:center; }
.stat-item { background-color: var(--dark-3); padding:1rem; border-radius:0.5rem; border:1px solid var(--dark-3); }
.stat-value { display:block; font-size:1.875rem; font-weight:700; color:var(--primary); margin-bottom:0.25rem; }
.stat-label { font-size:0.875rem; color: var(--light-2); opacity:0.8; }

/* Progress */
.progress-info { display:flex; justify-content:space-between; font-size:0.875rem; margin-bottom:0.5rem; color:var(--light-2); }
.progress-bar { width:100%; height:0.75rem; background-color: var(--dark-3); border-radius:0.375rem; overflow:hidden; }
.progress-fill { height:100%; width:0%; background-color: var(--primary); border-radius:0.375rem; transition: width 0.3s ease-in-out; }
.test-stats { display:flex; justify-content:space-around; margin-top:1rem; font-size:0.875rem; }
.test-stat-item { display:flex; flex-direction:column; align-items:center; gap:0.25rem; }
.test-stat-item span:first-child { font-size:1.25rem; font-weight:600; }
.test-stat-item.success span:first-child { color: var(--success); }
.test-stat-item.failed span:first-child { color: var(--danger); }
.test-stat-item.testing span:first-child { color: var(--warning); }

/* Tables */
.testing-table-container, .results-table-container { overflow-x:auto; margin-top:1rem; }
.testing-table, .results-table { width:100%; border-collapse:collapse; min-width:600px; }
.testing-table th, .results-table th { padding:0.75rem 1rem; text-align:left; font-size:0.75rem; font-weight:600; text-transform:uppercase; color:var(--light-2); background-color: var(--dark-3); border-bottom:1px solid var(--dark-3); }
.testing-table td, .results-table td { padding:0.75rem 1rem; font-size:0.875rem; color:var(--light-2); border-bottom:1px solid rgba(51,65,85,0.5); }
.testing-table tbody tr:last-child td, .results-table tbody tr:last-child td { border-bottom:none; }
.testing-table tbody tr:nth-child(even) { background-color: rgba(30,41,59,0.5); }
.testing-table .status-success { color: var(--success); font-weight:600; }
.testing-table .status-failed { color: var(--danger); font-weight:600; }
.testing-table .status-testing { color: var(--warning); font-weight:600; }

/* Summary */
.summary-stats { display:grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap:1.5rem; text-align:center; }
.summary-item { background-color: var(--dark-3); padding:1.5rem; border-radius:0.75rem; border:1px solid var(--dark-3); }
.summary-value { display:block; font-size:2.25rem; font-weight:700; color:var(--primary); margin-bottom:0.5rem; }
.summary-label { font-size:1rem; color: var(--light-2); opacity:0.8; }

/* Filter Controls */
.filter-controls { margin-bottom:1rem; }

/* Config Info */
.config-info { display:flex; justify-content:space-around; margin-top:1rem; text-align:center; }
.config-stat { display:flex; flex-direction:column; align-items:center; }
.config-value { font-size:1.875rem; font-weight:700; color:var(--primary); margin-bottom:0.25rem; }
.config-label { font-size:0.875rem; color: var(--light-2); opacity:0.8; }

/* Info Box */
.info-box { display:flex; align-items:flex-start; padding:1rem; background-color: rgba(20,184,166,0.1); border-radius:0.5rem; border:1px solid rgba(20,184,166,0.3); margin-top:1rem; }
.info-icon { font-size:1.5rem; margin-right:0.75rem; color: var(--secondary); flex-shrink:0; }
.info-text { font-size:0.875rem; color: var(--light-2); }
.info-text strong { color: var(--light-1); }

/* Loading Screen */
.loading-screen { position:fixed; inset:0; background-color: var(--dark-1); display:flex; justify-content:center; align-items:center; flex-direction:column; z-index:9999; transition: opacity 0.5s ease; }
.loading-screen.hidden { opacity:0; visibility:hidden; }
.vortex-logo { position:relative; width:80px; height:80px; margin-bottom:20px; }
.vortex-ring { position:absolute; border:4px solid transparent; border-top-color: var(--primary); border-radius:50%; animation: spin 1.5s linear infinite; }
.vortex-ring:nth-child(1) { width:80px; height:80px; animation-delay:0s; }
.vortex-ring:nth-child(2) { width:60px; height:60px; top:10px; left:10px; border-top-color: var(--secondary); animation-delay:0.2s; }
.vortex-ring:nth-child(3) { width:40px; height:40px; top:20px; left:20px; border-top-color: var(--primary-dark); animation-delay:0.4s; }
@keyframes spin { 0%{ transform:rotate(0deg);} 100%{ transform:rotate(360deg);} }
.loading-screen h2 { font-size:1.8rem; color: var(--light-1); margin-bottom:10px; }
.loading-screen p { font-size:1rem; color: var(--light-2); }

/* Main App Layout */
#app { display:flex; min-height:100vh; background-color: var(--dark-1); }
/* Sidebar */
.sidebar { width:250px; background-color: var(--dark-2); border-right:1px solid var(--dark-3); padding:1.5rem 1rem; display:flex; flex-direction:column; flex-shrink:0; position:sticky; top:0; height:100vh; overflow-y:auto; }
.sidebar-logo { display:flex; align-items:center; margin-bottom:2.5rem; padding:0 0.5rem; }
.sidebar-logo .vortex-icon { width:36px; height:36px; margin-right:0.75rem; }
.sidebar-logo h1 { font-size:1.6rem; font-weight:700; color: var(--light-1); }
.sidebar-nav ul { list-style:none; padding:0; margin:0; }
.sidebar-nav li { margin-bottom:0.5rem; }
.sidebar-nav a { display:flex; align-items:center; padding:0.75rem 1rem; border-radius:0.5rem; color: var(--light-2); font-weight:500; transition: all 0.2s ease; }
.sidebar-nav a:hover { background-color: var(--dark-3); color: var(--light-1); }
.sidebar-nav a.active { background-color: var(--primary); color: var(--light-1); box-shadow:0 4px 8px rgba(0,0,0,0.2); }
.sidebar-nav a.active:hover { background-color: var(--primary-dark); }
.sidebar-nav a svg { margin-right:0.75rem; width:20px; height:20px; }

/* Main Content Area */
.content-area { flex-grow:1; display:flex; flex-direction:column; overflow-y:auto; }
.main-header { background-color: var(--dark-2); padding:1.5rem 2rem; border-bottom:1px solid var(--dark-3); display:flex; justify-content:space-between; align-items:center; position:sticky; top:0; z-index:999; }
.main-header h2 { font-size:1.8rem; font-weight:700; color: var(--light-1); }
.main-content { padding:2rem; flex-grow:1; }
.page-section { margin-bottom:2.5rem; transition: opacity 0.3s ease, transform 0.3s ease; }
.page-section.hidden { opacity:0; transform: translateY(20px); pointer-events:none; position:absolute; width:calc(100% - 4rem); }

/* Mobile */
@media (max-width: 768px) {
  #app { flex-direction:column; }
  .sidebar { width:100%; height:auto; position:relative; border-right:none; border-bottom:1px solid var(--dark-3); padding-bottom:1rem; }
  .sidebar-nav ul { display:flex; flex-wrap:wrap; justify-content:center; gap:0.5rem; }
  .sidebar-nav li { margin-bottom:0; }
  .sidebar-nav a { padding:0.5rem 0.75rem; font-size:0.875rem; }
  .sidebar-nav a svg { display:none; }
  .main-header { padding:1rem 1.5rem; }
  .main-header h2 { font-size:1.5rem; }
  .main-content { padding:1.5rem; }
  .page-section.hidden { width:calc(100% - 3rem); }
}

/* Utility */
.hidden { display:none !important; }
.btn-loader { border:2px solid rgba(255,255,255,0.3); border-top:2px solid #fff; border-radius:50%; width:16px; height:16px; animation: spin 1s linear infinite; margin-left:8px; }
.btn-text { display:inline-block; }
.btn-loader.hidden + .btn-text { display:inline-block; }
.btn-loader:not(.hidden) + .btn-text { display:none; }
.replacement-stats .stats-row { display:flex; justify-content:space-around; margin-top:1rem; text-align:center; }
.replacement-stats .stat-item { flex:1; padding:0.5rem; background-color: var(--dark-3); border-radius:0.5rem; margin:0 0.5rem; }
.replacement-stats .stat-value { font-size:1.5rem; font-weight:700; color: var(--primary); }
.replacement-stats .stat-label { font-size:0.75rem; color: var(--light-2); }