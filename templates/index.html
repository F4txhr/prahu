<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>VortexVPN Manager</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}">
    <meta name="theme-color" content="#0D1117">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/ui-tailwind.css') }}">

    <!-- Custom CSS moved to static/css/ui-tailwind.css -->
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="vortex-logo">
                <div class="vortex-ring"></div>
                <div class="vortex-ring"></div>
                <div class="vortex-ring"></div>
            </div>
            <h2>VortexVPN Manager</h2>
            <p>Loading...</p>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="app" class="app hidden">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-logo">
                <div class="vortex-icon"></div>
                <h1>VortexVPN</h1>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li>
                        <a href="#" data-section="config-section" class="nav-link active">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0M3.75 18H7.5m-3-6h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0M3.75 12H7.5" />
                            </svg>
                            Configuration
                        </a>
                    </li>
                    <li>
                        <a href="#" data-section="add-test-section" class="nav-link">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244" />
                            </svg>
                            Add & Test
                        </a>
                    </li>
                    <li>
                        <a href="#" data-section="live-testing-section" class="nav-link">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M3 13.125N12.75M3 13.125a9.75 9.75 0 016.004-9.07M3 13.125v6.75m9.75-6.75a9.75 9.75 0 016.004 9.07m-9.75-6.75h6.75m-3 0l-3-3m3 3l3-3m-3 3v6.75m-9.75 0h6.75" />
                            </svg>
                            Live Testing
                        </a>
                    </li>
                    <li>
                        <a href="#" data-section="results-section" class="nav-link">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M10.125 3.75c-.625 0-1.125.504-1.125 1.125v3.75c0 .621.504 1.125 1.125 1.125h3.75c.621 0 1.125-.504 1.125-1.125V4.875c0-.621-.504-1.125-1.125-1.125h-3.75zM3.75 9.375c-.625 0-1.125.504-1.125 1.125v3.75c0 .621.504 1.125 1.125 1.125h3.75c.621 0 1.125-.504 1.125-1.125v-3.75c0-.621-.504-1.125-1.125-1.125h-3.75zM9.375 15.75c-.625 0-1.125.504-1.125 1.125v3.75c0 .621.504 1.125 1.125 1.125h3.75c.621 0 1.125-.504 1.125-1.125v-3.75c0-.621-.504-1.125-1.125-1.125h-3.75z" />
                            </svg>
                            Results
                        </a>
                    </li>
                    <li>
                        <a href="#" data-section="download-upload-section" class="nav-link">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3" />
                            </svg>
                            Download & Upload
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content Area -->
        <div class="content-area">
            <!-- Header (Dynamic Section Title, Status Indicator) -->
            <header class="main-header">
                <h2 id="current-section-title">Configuration</h2>
                <div class="status-indicator" id="status-indicator">
                    <span class="status-dot"></span>
                    <span id="status-text">Ready</span>
                </div>
            </header>

            <!-- Section Content (Dynamic based on sidebar selection) -->
            <main class="main-content">
                <!-- Configuration Section -->
                <section id="config-section" class="page-section">
                    <div class="section-header">
                        <h2>üîß Configuration Setup</h2>
                        <p>Choose your configuration source and setup options</p>
                    </div>

                    <!-- Setup Source Options -->
                    <div class="card">
                        <div class="card-header">
                            <h3>üìÅ Configuration Source</h3>
                        </div>
                        <div class="card-content">
                            <div class="setup-options grid grid-cols-1 sm:grid-cols-2 gap-4">
                                <label class="setup-option cursor-pointer">
                                    <input type="radio" name="setup-source" value="template" class="hidden" checked>
                                    <div class="option-card p-4 rounded-lg border border-dark-3 bg-dark-3 hover:bg-dark-3/70 transition-all flex flex-col items-center text-center gap-2">
                                        <div class="option-icon text-3xl">üìÑ</div>
                                        <div class="option-info">
                                            <h4 class="font-semibold text-light-1 text-lg">Local Template</h4>
                                            <p class="text-sm text-light-2 opacity-80">Use built-in template.json</p>
                                        </div>
                                    </div>
                                </label>
                                <label class="setup-option cursor-pointer">
                                    <input type="radio" name="setup-source" value="github" class="hidden">
                                    <div class="option-card p-4 rounded-lg border border-dark-3 bg-dark-3 hover:bg-dark-3/70 transition-all flex flex-col items-center text-center gap-2">
                                        <div class="option-icon text-3xl">üêô</div>
                                        <div class="option-info">
                                            <h4 class="font-semibold text-light-1 text-lg">GitHub Repository</h4>
                                            <p class="text-sm text-light-2 opacity-80">Load from GitHub repo</p>
                                        </div>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- GitHub Setup Card (shown when GitHub option selected) -->
                    <div class="card mt-6" id="github-setup-card">
                        <div class="card-header">
                            <h3>üêô GitHub Configuration</h3>
                            <span class="badge" id="github-status">Not Configured</span>
                        </div>
                        <div class="card-content">
                            <div class="form-group">
                                <label for="github-token">GitHub Token</label>
                                <input type="password" id="github-token" placeholder="ghp_xxxxxxxxxxxx" class="input-field">
                                <small class="text-xs text-light-2 opacity-70 mt-1 block">Personal access token with repo permissions</small>
                            </div>
                            <div class="form-group">
                                <label for="github-owner">Repository Owner</label>
                                <input type="text" id="github-owner" placeholder="username" class="input-field">
                                <small class="text-xs text-light-2 opacity-70 mt-1 block">GitHub username or organization (auto-filled from database)</small>
                            </div>
                            <div class="form-group">
                                <label for="github-repo">Repository Name</label>
                                <input type="text" id="github-repo" placeholder="repository" class="input-field">
                                <small class="text-xs text-light-2 opacity-70 mt-1 block">Repository name (editable even when auto-filled)</small>
                            </div>
                            
                            <!-- GitHub File Selection -->
                            <div id="github-file-selection">
                                <div class="form-group">
                                    <label for="github-files">Select Configuration File</label>
                                    <select id="github-files" class="input-field">
                                        <option value="">Loading...</option>
                                    </select>
                                </div>
                            </div>

                            <button class="btn btn-primary mt-4 w-full" id="setup-github-btn">
                                <span class="btn-text">üíæ Save GitHub Config</span>
                                <div class="btn-loader hidden"></div>
                            </button>
                        </div>
                    </div>

                    <!-- Template Status Card (shown when Template option selected) -->
                    <div class="card mt-6" id="template-status-card">
                        <div class="card-header">
                            <h3>üìÑ Template Configuration</h3>
                            <span class="badge success">Ready</span>
                        </div>
                        <div class="card-content">
                            <p class="text-light-2">‚úÖ Using built-in template.json configuration file.</p>
                            <small class="text-xs text-light-2 opacity-70 mt-1 block">Configuration will be automatically loaded when you start testing.</small>
                        </div>
                    </div>

                    <!-- Setup Status -->
                    <div class="card mt-6" id="setup-status">
                        <div class="card-content">
                            <div class="status-message text-light-2" id="setup-status-message"></div>
                        </div>
                    </div>
                </section>

                <!-- Add Links & Test Section -->
                <section id="add-test-section" class="page-section hidden">
                    <div class="section-header">
                        <h2>üîó Add VPN Links & Test</h2>
                        <p>Paste your VPN links and start testing immediately</p>
                    </div>

                    <!-- Testing Mode -->
                    <div class="card">
                        <div class="card-header">
                            <h3>‚öôÔ∏è Metode Pengetesan</h3>
                        </div>
                        <div class="card-content">
                            <div class="radio-group">
                                <label class="radio-option">
                                    <input type="radio" name="testing-mode" value="fast">
                                    <span class="radio-custom"></span>
                                    <div class="radio-label">
                                        <strong>Cepat (Non‚ÄëXray)</strong>
                                        <small>TCP + TLS/WS ringan untuk semua akun (paling cepat)</small>
                                    </div>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="testing-mode" value="accurate" checked>
                                    <span class="radio-custom"></span>
                                    <div class="radio-label">
                                        <strong>Akurat (Filter ‚Üí Xray)</strong>
                                        <small>Saring cepat lalu Xray semua yang lolos (disarankan)</small>
                                    </div>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="testing-mode" value="xray-only">
                                    <span class="radio-custom"></span>
                                    <div class="radio-label">
                                        <strong>Xray‚ÄëOnly</strong>
                                        <small>Xray untuk semua akun (paling akurat, paling berat)</small>
                                    </div>
                                </label>
                                <label class="radio-option">
                                    <input type="radio" name="testing-mode" value="hybrid">
                                    <span class="radio-custom"></span>
                                    <div class="radio-label">
                                        <strong>Hybrid (Top‚ÄëN)</strong>
                                        <small>Non‚ÄëXray semua, Xray hanya Top‚ÄëN berdasarkan latency</small>
                                        <div class="mt-2 flex items-center gap-2">
                                            <label for="hybrid-top-n" class="text-xs text-light-2 opacity-70">Top‚ÄëN:</label>
                                            <input type="number" id="hybrid-top-n" value="20" min="1" max="999" class="input-field w-20 p-1 text-sm">
                                        </div>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Add Links -->
                    <div class="card mt-6">
                        <div class="card-header">
                            <h3>ü§ñ Smart VPN Input</h3>
                            <span class="badge auto-detection">Auto-Detection</span>
                        </div>
                        <div class="card-content">
                            <div class="form-group">
                                <label for="vpn-links">Paste VPN Links or URLs</label>
                                <textarea 
                                    id="vpn-links" 
                                    placeholder="ü§ñ Smart Input - Paste any of these:

üìù VPN Links
üåê API URLs
üìÑ Raw URLs
‚ú® The system will automatically detect and process your input!"
                                    rows="12"
                                    class="input-field font-mono text-sm"
                                ></textarea>
                                <div class="smart-detection-info">
                                    <div class="detection-indicator" id="detection-indicator">
                                        <span class="detection-icon">ü§ñ</span>
                                        <span class="detection-text">Ready for smart detection...</span>
                                    </div>
                                    <small class="text-xs text-light-2 opacity-70">
                                        <strong>Auto-Detection Features:</strong><br>
                                        ‚Ä¢ üîó Direct VPN links ‚Üí Parse immediately<br>
                                        ‚Ä¢ üåê Single URL ‚Üí Auto-fetch from API/Raw<br>  
                                        ‚Ä¢ üìö Multiple URLs ‚Üí Fetch from all sources
                                    </small>
                                </div>
                            </div>

                            <button class="btn btn-success btn-large w-full mt-4" id="add-and-test-btn">
                                <span class="btn-text">Start</span>
                                <div class="btn-loader hidden"></div>
                            </button>
                        </div>
                    </div>

                    <!-- Advanced (Auto Fetch) - hidden by default -->
                    <div class="card mt-6">
                        <div class="card-header">
                            <h3 class="flex items-center gap-2">üîß Advanced</h3>
                            <button class="btn btn-secondary px-4 py-2 text-sm" id="toggle-advanced">Show</button>
                        </div>
                        <div class="card-content" id="advanced-panel">
                            <div class="form-group">
                                <label>Types (multi-select)</label>
                                <div class="flex gap-3 flex-wrap">
                                    <label class="flex items-center text-sm text-light-2"><input type="checkbox" class="adv-type mr-2" value="vless"> vless</label>
                                    <label class="flex items-center text-sm text-light-2"><input type="checkbox" class="adv-type mr-2" value="vmess"> vmess</label>
                                    <label class="flex items-center text-sm text-light-2"><input type="checkbox" class="adv-type mr-2" value="trojan" checked> trojan</label>
                                    <label class="flex items-center text-sm text-light-2"><input type="checkbox" class="adv-type mr-2" value="ss"> ss</label>
                                </div>
                                <small class="text-xs text-light-2 opacity-70 mt-1 block">Pilih satu atau lebih. Jika kosong nanti akan diacak dari 4 jenis tersebut.</small>
                            </div>
                            <div class="form-group">
                                <label for="adv-bugs">Bugs (SNI/Host) - pisah koma atau baris</label>
                                <textarea id="adv-bugs" rows="3" placeholder="quiz.int.vidio.com, example.com" class="input-field text-sm"></textarea>
                            </div>
                            <div class="form-group">
                                <label for="adv-countries">Countries - pisah koma atau baris</label>
                                <textarea id="adv-countries" rows="2" placeholder="sg, id, jp, random" class="input-field text-sm"></textarea>
                            </div>
                            <div class="form-group flex gap-4 flex-wrap">
                                <div>
                                    <label for="adv-tls" class="text-sm">TLS</label>
                                    <select id="adv-tls" class="input-field w-auto">
                                        <option value="true" selected>true</option>
                                        <option value="false">false</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="adv-wildcard" class="text-sm">Wildcard</label>
                                    <select id="adv-wildcard" class="input-field w-auto">
                                        <option value="false" selected>false</option>
                                        <option value="true">true</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="adv-limit" class="text-sm">Limit</label>
                                    <input id="adv-limit" type="number" value="10" min="1" max="100" class="input-field w-24">
                                </div>
                            </div>
                            <div class="form-group">
                                <small id="adv-preview-info" class="text-xs text-light-2 opacity-70">No preview</small>
                            </div>
                            <div class="button-group flex gap-3 mt-4">
                                <button class="btn btn-secondary px-4 py-2 text-sm" id="adv-preview-btn">Preview</button>
                                <button class="btn btn-success px-4 py-2 text-sm" id="adv-fetch-add-btn">Fetch & Add</button>
                            </div>
                        </div>
                    </div>

                    <!-- Server Replacement -->
                    <div class="card mt-6">
                        <div class="card-header">
                            <h3>üîÑ Custom Servers</h3>
                            <span class="badge" id="server-replace-status">Ready</span>
                        </div>
                        <div class="card-content">
                            <div class="form-group">
                                <label for="replacement-servers">Custom Server Address</label>
                                <textarea 
                                    id="replacement-servers" 
                                    placeholder="Enter custom server addresses (one per line or comma separated):&#10;custom1.example.com&#10;custom2.example.com&#10;or: custom1.com, custom2.com, custom3.com"
                                    rows="4"
                                    class="input-field font-mono text-sm"
                                ></textarea>
                                <small class="text-xs text-light-2 opacity-70 mt-1 block">üí° These servers will be automatically applied when testing completes. Leave empty to use original servers.</small>
                            </div>
                            <div class="replacement-stats" id="replacement-stats">
                                <div class="stats-row">
                                    <div class="stat-item">
                                        <span class="stat-value" id="total-vpn-accounts">0</span>
                                        <span class="stat-label">VPN Accounts</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-value" id="total-servers">0</span>
                                        <span class="stat-label">New Servers</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-value" id="accounts-per-server">0</span>
                                        <span class="stat-label">Per Server</span>
                                    </div>
                                </div>
                            </div>
                            <div class="info-box">
                                <div class="info-icon">‚ÑπÔ∏è</div>
                                <div class="info-text">
                                    <strong>Auto-Apply:</strong> Custom servers will be automatically applied when testing completes. 
                                    If multiple servers are provided, they will be randomly distributed across successful accounts.
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Stats -->
                    <div class="card mt-6" id="quick-stats">
                        <div class="card-header">
                            <h3>Quick Summary</h3>
                        </div>
                        <div class="card-content">
                            <div class="stats-grid">
                                <div class="stat-item">
                                    <span class="stat-value" id="total-accounts">0</span>
                                    <span class="stat-label">Total Added</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-value" id="test-status">‚è≥</span>
                                    <span class="stat-label">Status</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Live Testing Section -->
                <section id="live-testing-section" class="page-section hidden">
                    <div class="section-header">
                        <h2>üìä Live Testing Progress</h2>
                        <p>Real-time VPN connection testing results</p>
                    </div>

                    <!-- Progress -->
                    <div class="card" id="testing-progress">
                        <div class="card-header">
                            <h3>Testing Progress</h3>
                        </div>
                        <div class="card-content">
                            <div class="progress-info">
                                <span id="progress-text">0 / 0 accounts tested</span>
                                <span id="progress-percent">0%</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="progress-fill"></div>
                            </div>
                            <div class="test-stats">
                                <div class="test-stat-item success">
                                    <span id="successful-count">0</span>
                                    <span>‚úÖ Success</span>
                                </div>
                                <div class="test-stat-item failed">
                                    <span id="failed-count">0</span>
                                    <span>‚ùå Failed</span>
                                </div>
                                <div class="test-stat-item testing">
                                    <span id="testing-count">0</span>
                                    <span>üîÑ Testing</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Live Results Table -->
                    <div class="card mt-6" id="live-results">
                        <div class="card-header">
                            <h3>Live Test Results</h3>
                            <small class="text-xs text-light-2 opacity-70">Updated in real-time</small>
                        </div>
                        <div class="card-content">
                            <div class="testing-table-container">
                                <table class="testing-table" id="testing-table">
                                    <thead>
                                        <tr>
                                            <th class="order-header">No</th>
                                            <th class="type-header">Type</th>
                                            <th class="country-header">Country</th>
                                            <th class="provider-header">Provider</th>
                                            <th class="ip-header">IP</th>
                                            <th class="latency-header">Latency</th>
                                            <th class="jitter-header">Jitter</th>
                                            <th class="icmp-header">ICMP</th>
                                            <th class="status-header">Status</th>
                                        </tr>
                                    </thead>
                                    <tbody id="testing-table-body">
                                        <!-- Results will be populated here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Auto-generated Config Notification -->
                    <div class="card mt-6" id="config-notification">
                        <div class="card-header">
                            <h3>‚úÖ Configuration Generated!</h3>
                        </div>
                        <div class="card-content">
                            <p class="text-light-2">Your VPN configuration has been automatically generated and is ready for download or upload to GitHub.</p>
                            <div class="notification-actions mt-4">
                                <button class="btn btn-primary w-full" onclick="switchSection('download-upload-section')">
                                    üì• Go to Download/Upload
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Results Section -->
                <section id="results-section" class="page-section hidden">
                    <div class="section-header">
                        <h2>Test Results</h2>
                        <p>View detailed results and successful connections</p>
                    </div>

                    <!-- Results Summary -->
                    <div class="card" id="results-summary">
                        <div class="card-header">
                            <h3>Summary</h3>
                        </div>
                        <div class="card-content">
                            <div class="summary-stats">
                                <div class="summary-item">
                                    <span class="summary-value" id="summary-successful">0</span>
                                    <span class="summary-label">Successful</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-value" id="summary-failed">0</span>
                                    <span class="summary-label">Failed</span>
                                </div>
                                <div class="summary-item">
                                    <span class="summary-value" id="summary-avg-latency">0ms</span>
                                    <span class="summary-label">Avg Latency</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Detailed Results -->
                    <div class="card mt-6" id="detailed-results">
                        <div class="card-header">
                            <h3>Detailed Results</h3>
                            <div class="filter-controls">
                                <select id="filter-status" class="input-field w-auto">
                                    <option value="all">All Results</option>
                                    <option value="successful">Successful Only</option>
                                    <option value="failed">Failed Only</option>
                                </select>
                            </div>
                        </div>
                        <div class="card-content">
                            <div class="results-table-container">
                                <div id="results-table"></div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Download/Upload Section -->
                <section id="download-upload-section" class="page-section hidden">
                    <div class="section-header">
                        <h2>‚¨áÔ∏è Download & Upload</h2>
                        <p>Your configuration has been auto-generated and is ready!</p>
                    </div>

                    <!-- Configuration Status -->
                    <div class="card" id="config-status">
                        <div class="card-header">
                            <h3>‚úÖ Configuration Ready</h3>
                            <span class="badge success" id="config-badge">Auto-Generated</span>
                        </div>
                        <div class="card-content">
                            <p class="text-light-2">Your VPN configuration has been automatically generated with successful accounts.</p>
                            <div class="config-info">
                                <div class="config-stat">
                                    <span class="config-value" id="config-account-count">0</span>
                                    <span class="config-label">Working Accounts</span>
                                </div>
                                <div class="config-stat">
                                    <span class="config-value" id="config-timestamp">-</span>
                                    <span class="config-label">Generated</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Download Options -->
                    <div class="card mt-6">
                        <div class="card-header">
                            <h3>üì• Download Configuration</h3>
                        </div>
                        <div class="card-content">
                            <button class="btn btn-success btn-large w-full" id="download-config-btn">
                                <span class="btn-text">‚¨áÔ∏è Download VPN Config</span>
                                <div class="btn-loader hidden"></div>
                            </button>
                            <small class="text-xs text-light-2 opacity-70 mt-2 block">Downloads a sing-box compatible JSON configuration file</small>
                            <div id="export-buttons" class="mt-3 flex flex-wrap gap-3"></div>
                        </div>
                    </div>

                    <!-- GitHub Upload -->
                    <div class="card mt-6" id="github-upload">
                        <div class="card-header">
                            <h3>üì§ Upload to GitHub</h3>
                            <span class="badge" id="github-upload-status">Ready</span>
                        </div>
                        <div class="card-content">
                            <div class="form-group">
                                <label for="commit-message">Commit Message</label>
                                <input type="text" id="commit-message" value="Update VPN configuration" placeholder="Enter commit message" class="input-field">
                            </div>
                            <button class="btn btn-primary btn-large w-full" id="upload-github-btn">
                                <span class="btn-text">‚¨ÜÔ∏è Upload to GitHub</span>
                                <div class="btn-loader hidden"></div>
                            </button>
                            <small class="text-xs text-light-2 opacity-70 mt-2 block">Uploads the configuration to your GitHub repository</small>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Bottom Sheet (Mobile) -->
    <div class="bottom-sheet" id="bottom-sheet">
        <div class="bottom-sheet-header">
            <div class="bottom-sheet-handle"></div>
        </div>
        <div class="bottom-sheet-content" id="bottom-sheet-content">
            <!-- Dynamic content -->
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
